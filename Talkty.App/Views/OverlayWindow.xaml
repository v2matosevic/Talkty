<Window x:Class="Talkty.App.Views.OverlayWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Talkty"
        SizeToContent="WidthAndHeight"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Topmost="True"
        ShowInTaskbar="False"
        ShowActivated="False"
        Focusable="False"
        ResizeMode="NoResize"
        WindowStartupLocation="Manual">

    <!-- Ultra-compact pill overlay -->
    <Border Margin="8">
        <Border.Effect>
            <DropShadowEffect BlurRadius="16" ShadowDepth="0" Opacity="0.4" Color="#000000"/>
        </Border.Effect>

        <Border CornerRadius="18"
                BorderThickness="1"
                BorderBrush="#20FFFFFF"
                Padding="12,8">
            <Border.Background>
                <SolidColorBrush Color="#F0121214"/>
            </Border.Background>

            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                <!-- Audio Wave Icon that reacts to audio level -->
                <Grid Width="20" Height="16" Margin="0,0,8,0">
                    <!-- Wave bars that react to AudioLevel -->
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                        <!-- Bar 1 -->
                        <Border x:Name="Bar1" Width="3" CornerRadius="1.5" Margin="0,0,2,0" VerticalAlignment="Center">
                            <Border.Style>
                                <Style TargetType="Border">
                                    <Setter Property="Height" Value="6"/>
                                    <Setter Property="Background" Value="#FF6B6B"/>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsTranscribing}" Value="True">
                                            <Setter Property="Background" Value="#6E56CF"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding StatusText}" Value="Copied!">
                                            <Setter Property="Background" Value="#32D583"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Border.Style>
                        </Border>
                        <!-- Bar 2 (center, taller) -->
                        <Border x:Name="Bar2" Width="3" CornerRadius="1.5" Margin="0,0,2,0" VerticalAlignment="Center">
                            <Border.Style>
                                <Style TargetType="Border">
                                    <Setter Property="Height" Value="12"/>
                                    <Setter Property="Background" Value="#FF6B6B"/>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsTranscribing}" Value="True">
                                            <Setter Property="Background" Value="#6E56CF"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding StatusText}" Value="Copied!">
                                            <Setter Property="Background" Value="#32D583"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Border.Style>
                        </Border>
                        <!-- Bar 3 -->
                        <Border x:Name="Bar3" Width="3" CornerRadius="1.5" VerticalAlignment="Center">
                            <Border.Style>
                                <Style TargetType="Border">
                                    <Setter Property="Height" Value="8"/>
                                    <Setter Property="Background" Value="#FF6B6B"/>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsTranscribing}" Value="True">
                                            <Setter Property="Background" Value="#6E56CF"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding StatusText}" Value="Copied!">
                                            <Setter Property="Background" Value="#32D583"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Border.Style>
                        </Border>
                    </StackPanel>
                </Grid>

                <!-- Timer / Status -->
                <TextBlock VerticalAlignment="Center" MinWidth="40">
                    <TextBlock.Style>
                        <Style TargetType="TextBlock">
                            <Setter Property="Text" Value="{Binding ElapsedTime}"/>
                            <Setter Property="Foreground" Value="#E4E4E7"/>
                            <Setter Property="FontSize" Value="13"/>
                            <Setter Property="FontWeight" Value="Medium"/>
                            <Setter Property="FontFamily" Value="Segoe UI Variable Text, Segoe UI"/>
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding IsTranscribing}" Value="True">
                                    <Setter Property="Text" Value="..."/>
                                </DataTrigger>
                                <DataTrigger Binding="{Binding StatusText}" Value="Copied!">
                                    <Setter Property="Text" Value="Copied"/>
                                    <Setter Property="Foreground" Value="#32D583"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </TextBlock.Style>
                </TextBlock>
            </StackPanel>
        </Border>
    </Border>
</Window>
